# ========================================
# RENDER.COM ENVIRONMENT VARIABLES
# ========================================
#
# HOW TO USE THIS FILE:
# 1. Go to your Render.com dashboard
# 2. Select your Sunny bot service
# 3. Click "Environment" in the left sidebar
# 4. Click "Add from .env" button
# 5. Copy-paste the appropriate section below
# 6. Replace placeholder values with your actual credentials
# 7. Click "Save Changes" - Render will auto-redeploy
#
# ========================================


# ========================================
# PATH A: CLAUDE 3 HAIKU (73% SAVINGS)
# Quick Win - 5 Minutes Setup
# ========================================

# Discord Configuration
DISCORD_TOKEN=your_discord_bot_token_here
DISCORD_CLIENT_ID=your_discord_client_id_here
DISCORD_OWNER_ID=your_discord_user_id_here

# AI Provider - Claude 3 Haiku
AI_PROVIDER=anthropic
CLAUDE_API_KEY=your_claude_api_key_here
CLAUDE_MODEL=claude-3-haiku-20240307
CLAUDE_MAX_TOKENS=3000
CLAUDE_TEMPERATURE=0.7

# MongoDB Configuration
MONGO_URI=your_mongodb_connection_string_here

# Memory System
MEMORY_ENABLED=true
MEMORY_USER_PROFILES=true
MEMORY_SEMANTIC_ENABLED=true
CONTEXT_CROSS_CHANNEL=false

# Context Configuration
CONTEXT_MAX_MESSAGES=20
CONTEXT_SUMMARIZE_AFTER=30

# Moderation
MODERATION_ENABLED=true
MODERATION_LEVEL=2

# Debug
DEBUG_MODE=false
DEBUG_INSTANCE_ID=prod-render

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=10

# Logging
LOG_LEVEL=info
LOG_TO_FILE=false

# Optional: Whitelisted Bot IDs (comma-separated)
WHITELISTED_BOT_IDS=

# Optional: Redis (if using)
# REDIS_URL=your_redis_url_here


# ========================================
# PATH B: Z.AI GLM-4.5-AIR (81% SAVINGS)
# Maximum Savings - Full Testing Required
# ========================================

# Discord Configuration
DISCORD_TOKEN=your_discord_bot_token_here
DISCORD_CLIENT_ID=your_discord_client_id_here
DISCORD_OWNER_ID=your_discord_user_id_here

# AI Provider - Z.AI GLM-4.5-Air
AI_PROVIDER=zai
ZAI_API_KEY=your_zai_api_key_here
ZAI_BASE_URL=https://api.z.ai/api/paas/v4/
ZAI_MODEL=glm-4.5-air
ZAI_MAX_TOKENS=3000
ZAI_TEMPERATURE=0.7

# Keep Claude credentials as fallback (optional)
CLAUDE_API_KEY=your_claude_api_key_here
CLAUDE_MODEL=claude-3-haiku-20240307
CLAUDE_MAX_TOKENS=3000
CLAUDE_TEMPERATURE=0.7

# MongoDB Configuration
MONGO_URI=your_mongodb_connection_string_here

# Memory System
MEMORY_ENABLED=true
MEMORY_USER_PROFILES=true
MEMORY_SEMANTIC_ENABLED=true
CONTEXT_CROSS_CHANNEL=false

# Context Configuration
CONTEXT_MAX_MESSAGES=20
CONTEXT_SUMMARIZE_AFTER=30

# Moderation
MODERATION_ENABLED=true
MODERATION_LEVEL=2

# Debug
DEBUG_MODE=false
DEBUG_INSTANCE_ID=prod-render-zai

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=10

# Logging
LOG_LEVEL=info
LOG_TO_FILE=false

# Optional: Whitelisted Bot IDs (comma-separated)
WHITELISTED_BOT_IDS=

# Optional: Redis (if using)
# REDIS_URL=your_redis_url_here


# ========================================
# STEP-BY-STEP RENDER.COM SETUP
# ========================================
#
# 1. GET YOUR CREDENTIALS:
#    - Discord Token: https://discord.com/developers/applications
#    - Claude API Key: https://console.anthropic.com/
#    - Z.AI API Key: https://z.ai/ (sign up required)
#    - MongoDB URI: https://mongodb.com/cloud/atlas (free tier available)
#
# 2. CHOOSE YOUR PATH:
#    - Path A (Claude 3 Haiku): Copy section "PATH A" above
#    - Path B (Z.AI): Copy section "PATH B" above
#
# 3. ADD TO RENDER:
#    Method 1: Bulk Add (Recommended)
#    - Click "Add from .env" button
#    - Paste your chosen section
#    - Replace all "your_*_here" with actual values
#    - Save
#
#    Method 2: Manual Add (Alternative)
#    - Click "Add Environment Variable" for each line
#    - Key: DISCORD_TOKEN
#    - Value: your actual token
#    - Repeat for all variables
#
# 4. IMPORTANT NOTES:
#    - Remove comment lines (starting with #) when bulk adding
#    - Don't include empty optional variables unless you use them
#    - Render auto-redeploys when you save changes
#    - Check deployment logs for any errors
#
# 5. INSTANT ROLLBACK (if needed):
#    - Change AI_PROVIDER from "zai" to "anthropic"
#    - Save - Render auto-redeploys
#
# 6. VERIFY DEPLOYMENT:
#    - Check Render logs for "Bot is ready!"
#    - Test basic command in Discord
#    - Monitor for any errors
#
# ========================================


# ========================================
# MINIMAL CONFIGURATION (Testing Only)
# Use this for quick testing with minimal setup
# ========================================

DISCORD_TOKEN=your_discord_bot_token_here
DISCORD_CLIENT_ID=your_discord_client_id_here
DISCORD_OWNER_ID=your_discord_user_id_here
AI_PROVIDER=anthropic
CLAUDE_API_KEY=your_claude_api_key_here
CLAUDE_MODEL=claude-3-haiku-20240307
MONGO_URI=your_mongodb_connection_string_here
MEMORY_ENABLED=true
MODERATION_ENABLED=true
DEBUG_MODE=false
LOG_LEVEL=info


# ========================================
# PRODUCTION RECOMMENDED (With Z.AI)
# Full configuration for production deployment
# ========================================

DISCORD_TOKEN=your_discord_bot_token_here
DISCORD_CLIENT_ID=your_discord_client_id_here
DISCORD_OWNER_ID=your_discord_user_id_here
AI_PROVIDER=zai
ZAI_API_KEY=your_zai_api_key_here
ZAI_BASE_URL=https://api.z.ai/api/paas/v4/
ZAI_MODEL=glm-4.5-air
ZAI_MAX_TOKENS=3000
ZAI_TEMPERATURE=0.7
CLAUDE_API_KEY=your_claude_api_key_here
CLAUDE_MODEL=claude-3-haiku-20240307
CLAUDE_MAX_TOKENS=3000
CLAUDE_TEMPERATURE=0.7
MONGO_URI=your_mongodb_connection_string_here
MEMORY_ENABLED=true
MEMORY_USER_PROFILES=true
MEMORY_SEMANTIC_ENABLED=true
CONTEXT_CROSS_CHANNEL=false
CONTEXT_MAX_MESSAGES=20
CONTEXT_SUMMARIZE_AFTER=30
MODERATION_ENABLED=true
MODERATION_LEVEL=2
DEBUG_MODE=false
DEBUG_INSTANCE_ID=prod-render-zai
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=10
LOG_LEVEL=info
LOG_TO_FILE=false


# ========================================
# WHERE TO GET YOUR API KEYS
# ========================================
#
# DISCORD_TOKEN:
#   1. Go to https://discord.com/developers/applications
#   2. Select your application
#   3. Go to "Bot" section
#   4. Click "Reset Token" or "Copy" if visible
#   5. Important: Enable "Message Content Intent" and "Server Members Intent"
#
# DISCORD_CLIENT_ID:
#   1. Same page as above
#   2. Go to "OAuth2" > "General"
#   3. Copy "Client ID"
#
# DISCORD_OWNER_ID:
#   1. Enable Developer Mode in Discord (Settings > Advanced)
#   2. Right-click your username
#   3. Click "Copy ID"
#
# CLAUDE_API_KEY:
#   1. Go to https://console.anthropic.com/
#   2. Sign up/login
#   3. Go to "API Keys"
#   4. Click "Create Key"
#   5. Copy the key (only shown once!)
#
# ZAI_API_KEY:
#   1. Go to https://z.ai/
#   2. Sign up for an account
#   3. Go to dashboard/API section
#   4. Generate API key
#   5. Copy the key
#   Note: Check if U.S. Entity List restrictions apply to you
#
# MONGO_URI:
#   1. Go to https://www.mongodb.com/cloud/atlas
#   2. Create free cluster (M0 Sandbox)
#   3. Create database user (username + password)
#   4. Add IP address 0.0.0.0/0 (allow from anywhere for Render)
#   5. Click "Connect" > "Connect your application"
#   6. Copy connection string
#   7. Replace <password> with your database user password
#   Format: mongodb+srv://username:password@cluster.mongodb.net/sunny-bot
#
# ========================================


# ========================================
# TROUBLESHOOTING TIPS
# ========================================
#
# Bot won't connect to Discord:
#   - Verify DISCORD_TOKEN is correct
#   - Check that Message Content Intent is enabled
#   - Check Render logs for error messages
#
# "Unknown AI provider" error:
#   - Ensure AI_PROVIDER is exactly "anthropic" or "zai" (lowercase)
#
# Z.AI authentication failed:
#   - Verify ZAI_API_KEY is correct
#   - Check ZAI_BASE_URL includes /api/paas/v4/
#   - Ensure you have credits in your Z.AI account
#
# MongoDB connection failed:
#   - Check MONGO_URI format
#   - Verify database user credentials
#   - Ensure IP whitelist includes 0.0.0.0/0
#   - Check network access settings in MongoDB Atlas
#
# High costs with Z.AI:
#   - Check LOG_LEVEL isn't set to "debug"
#   - Verify ZAI_MODEL is "glm-4.5-air" not "glm-4.5"
#   - Monitor usage in Z.AI dashboard
#
# Response quality issues:
#   - Try adjusting ZAI_TEMPERATURE (0.5-0.9)
#   - Consider switching to glm-4.5 for higher quality
#   - Rollback to anthropic if persistent issues
#
# ========================================


# ========================================
# COST MONITORING
# ========================================
#
# After deployment, you can monitor costs by:
#
# 1. Check Render logs for cost tracking:
#    - Look for "Cost Report" logs from costTracker.js
#    - Shows input/output tokens and estimated costs
#
# 2. Check provider dashboards:
#    - Anthropic: https://console.anthropic.com/settings/usage
#    - Z.AI: Check their dashboard for usage stats
#
# 3. Expected monthly costs (based on typical Discord bot usage):
#    - Claude 3.5 Haiku: $10-30/month (baseline)
#    - Claude 3 Haiku: $3-8/month (73% savings)
#    - Z.AI GLM-4.5-Air: $2-6/month (81% savings)
#
# Note: Actual costs vary based on message volume and complexity
#
# ========================================


# ========================================
# DEPLOYMENT CHECKLIST
# ========================================
#
# Before deploying to production:
# [ ] All environment variables configured
# [ ] Discord bot intents enabled (Message Content, Server Members)
# [ ] MongoDB cluster created and IP whitelisted
# [ ] API keys validated (test locally first)
# [ ] Chose AI provider (Path A or Path B)
# [ ] Reviewed DEPLOYMENT_STEPS.md
# [ ] Prepared to monitor logs after deployment
# [ ] Have rollback plan ready (AI_PROVIDER=anthropic)
# [ ] Informed team/users of potential testing period
# [ ] Budget allocated for API costs
#
# After deployment:
# [ ] Verify "Bot is ready!" in Render logs
# [ ] Test basic message response
# [ ] Test tool calling (sticker, emoji, channel creation)
# [ ] Test multi-step workflows (ticket, trivia)
# [ ] Monitor error rates for 24 hours
# [ ] Check cost tracking logs
# [ ] Complete MIGRATION_TEST_CHECKLIST.md
# [ ] Document any issues or adjustments needed
#
# ========================================
